{"version":3,"sources":["NavBar.js","pages/home.js","api.js","pages/LogIn.js","pages/SignUp.js","pages/Profile.js","config.js","video.js","pages/Random.js","App.js","reportWebVitals.js","index.js"],"names":["NavBar","user","token","logout","Navbar","collapseOnSelect","expand","bg","variant","Container","Brand","href","Toggle","Collapse","id","Nav","className","Link","as","NavLink","to","onClick","Home","BASE_URL","process","REACT_APP_BASE_URL","StreamApi","endpoint","data","method","console","debug","url","headers","Authorization","params","axios","error","response","message","Array","isArray","this","request","res","localStorage","setItem","username","getItem","LogIn","login","history","useHistory","useState","password","formData","setFormData","log","handleChange","e","target","name","value","a","preventDefault","api","result","push","onSubmit","htmlFor","type","onChange","SignUp","INITIAL_STATE","email","register","alert","Profile","appKey","accessToken","Video","channel","title","src","height","width","allowFullScreen","Random","apiToken","stream","setStream","games","setGames","setIsLoading","selectGame","setSelectGame","gameStreams","setGameStreams","getGames","get","game","getStreams","streams","useEffect","map","g","Button","random","Math","floor","length","user_name","App","setUser","setToken","logInUser","jwt","decode","clear","savedToken","getToken","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.66d56d46.chunk.js","sourcesContent":["import {Navbar, Container, Nav, NavDropdown} from 'react-bootstrap'\nimport {NavLink} from 'react-router-dom'\n\nconst NavBar = ({user, token, logout}) =>{\nreturn (\n    <>\n  <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n  <Container>\n  <Navbar.Brand href=\"/\">Random Stream</Navbar.Brand>\n  <Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\n  <Navbar.Collapse id=\"responsive-navbar-nav\">\n  \n      {!token ?\n      <>\n      <Nav className=\"ms-auto\">\n      <Nav.Link as={NavLink} to=\"/user/signup\" className=\"navlinks\">Sign up</Nav.Link>\n      <Nav.Link as={NavLink} to=\"/user/login\" className=\"navlinks\">Log In</Nav.Link>\n      </Nav>\n      \n      </>\n      :\n      <>\n      <Nav className=\"ms-auto\">\n      <Nav.Link as={NavLink} to=\"/random\" className=\"navlinks\">Streams</Nav.Link>\n      <Nav.Link as={NavLink} to={`/user/${user}`} className=\"navlinks\">{user}</Nav.Link>\n      <Nav.Link as={NavLink} to='/user/logout'  onClick={logout} className=\"navlinks\">Logout</Nav.Link>\n      \n    </Nav>\n    </>\n    }\n      </Navbar.Collapse>\n    </Container>\n  </Navbar>\n\n  </>\n  \n     \n\n)\n}\n\nexport default NavBar;","const Home = () =>{\n    return (\n        <>\n        <h1>Welcome</h1>\n        <p>This is a site to help smaller streamers grow and potentially get more viewers! </p>\n        </>\n    )\n}\n\nexport default Home;","import axios from \"axios\";\n\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:3001\";\n\n/** API Class.\n *\n * Static class tying together methods used to get/send to to the API.\n * There shouldn't be any frontend-specific stuff here, and there shouldn't\n * be any API-aware stuff elsewhere in the frontend.\n *\n */\n\nclass StreamApi {\n  // the token for interactive with the API will be stored here.\n  static token = localStorage.getItem('token');\n\n  static async request(endpoint, data = {}, method = \"get\") {\n    console.debug(\"API Call:\", endpoint, data, method);\n\n    //there are multiple ways to pass an authorization token, this is how you pass it in the header.\n    //this has been provided to show you another way to pass the token. you are only expected to read this code for this project.\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = { Authorization: `Bearer ${StreamApi.token}` };\n    const params = (method === \"get\")\n        ? data\n        : {};\n\n    try {\n      return (await axios({ url, method, data, params, headers })).data;\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      let message = err.response.data.error.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n  }\n\n  // Individual API routes\n\n  \n\n  static async register(data){\n    let res = await this.request('user/signup', data, 'post')\n    StreamApi.token = res.token\n    localStorage.setItem('token',StreamApi.token)\n    return res.token\n  }\n\n  static async login(data){\n    let res = await this.request('user/login', data, 'post')\n    StreamApi.token = res.token\n    localStorage.setItem('token',StreamApi.token)\n    return res.token\n  }\n\n  // static async update(username, data){\n  //   let res = await this.request(`users/${username}`, data, 'patch')\n  //   return res.user\n  //   }\n//get specific user\n  static async getUser(username){\n    let res = await this.request(`user/${username}`)\n    return res.user\n  }\n\n\n}\n\n// for now, put token (\"testuser\" / \"password\" on class)\n// StreamApi.token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZ\" +\n//     \"SI6InRlc3R1c2VyIiwiaXNBZG1pbiI6ZmFsc2UsImlhdCI6MTU5ODE1OTI1OX0.\" +\n//     \"FtrMwBQwe6Ue-glIFgz_Nf8XxRT2YecFCiSpYL0fCXc\";\n\nexport default StreamApi;\n","import '../Login.css'\nimport React, {useState} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport api from '../api'\n\nconst LogIn = ({login}) =>{\n    const INITIAL_STATE = {\n        username:'',\n       password:''\n    }\n    const history = useHistory();\n    const [formData, setFormData] = useState(INITIAL_STATE)\n   \n   \nconsole.log(formData)\n    const handleChange = (e) =>{\n        const {name, value} = e.target\n        setFormData((data) => ({\n            ...data,\n            [name]: value,\n        }))\n    }\n\n    \n\n      async function handleSubmit(e) {\n        e.preventDefault();\n        const result = await api.login(formData)\n        console.log(result)\n        login(result)\n        history.push('/')\n      }\n    return(\n        <>\n        <h1>Log In</h1>\n        <div className=\"logInDiv\">\n        <form className=\"logInForm\" onSubmit={handleSubmit}>\n            <label htmlFor=\"username\">Username</label>\n            <input type=\"text\" id=\"username\" name=\"username\" onChange={handleChange}></input>\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" id=\"password\" name=\"password\" onChange={handleChange}></input>\n            \n            <button className=\"loginsubmit\">Submit</button>\n        </form>\n        </div>\n        </>\n    )\n}\n\nexport default LogIn;\n\n","import '../Signup.css'\nimport React, {useState} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport api from '../api'\n\nconst SignUp = ({login}) =>{\n    const INITIAL_STATE = {\n        username:'',\n        name:\"\",\n        email:\"\",\n       password:''\n    }\n    const history = useHistory();\n    const [formData, setFormData] = useState(INITIAL_STATE)\n   \n   \n\n    const handleChange = (e) =>{\n        const {name, value} = e.target\n        setFormData((data) => ({\n            ...data,\n            [name]: value,\n        }))\n    }\n\n      function handleSubmit(e) {\n        e.preventDefault();\n        // addUser(formData)\n        register(formData)\n        alert('Signed up!')\n        setFormData(INITIAL_STATE)\n        history.push('/')\n      }\n\n      const register = async (data) =>{\n          const res = await api.register(data)\n          console.log(res)\n          login(res)\n      }\n    return(\n        <>\n        <h1>Sign Up</h1>\n        <div className=\"signUpDiv\">\n        <form className=\"signUpForm\" onSubmit={handleSubmit}>\n            <label htmlFor=\"username\">Username</label>\n            <input type=\"text\" id=\"username\" name=\"username\" onChange={handleChange}></input>\n            <label htmlFor=\"name\">Name</label>\n            <input type=\"text\" id=\"name\" name=\"name\" onChange={handleChange}></input>\n            <label htmlFor=\"email\">Email</label>\n            <input type=\"email\" id=\"email\" name=\"email\" onChange={handleChange}></input>\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" id=\"password\" name=\"password\" onChange={handleChange}></input>\n            \n            <button className=\"signupsubmit\">Submit</button>\n        </form>\n        </div>\n        </>\n    )\n}\n\nexport default SignUp;\n\n","import React from 'react'\n\nconst Profile = () =>{\n    return (\n        <>\n            <h1>Profile</h1>\n        </>\n    )\n}\n\nexport default Profile","const appKey = \"g3cpadpxnnd9gxed8srkr30ulotv6b\"\nconst secret = \"mvpagfy8nztsz26jwxqnrsf4zihmnp\"\nconst accessToken = \"8r58425i828m45gn2eikqpsqe4of5c\"\n\nexport {appKey, secret, accessToken};","import React from 'react'\nimport { useState } from 'react'\nimport axios from 'axios'\nimport { useEffect } from 'react'\nimport ReactTwitchEmbedVideo from \"react-twitch-embed-video\"\nimport \"./video.css\"\nexport const Video = ({channel, id}) => {\n    \n   \n\n    return (\n        <div className=\"stream\">\n        <iframe\n        title=\"twitch-stream\"\n    src={`https://player.twitch.tv/?channel=${channel}&parent=localhost&muted=false`}\n    height=\"500\"\n    width=\"600\"\n    allowFullScreen={true}>\n</iframe>\n<iframe src={`https://www.twitch.tv/embed/${channel}/chat?parent=localhost`}\n        height=\"500\"\n        width=\"250\">\n</iframe>\n</div>\n    )\n}\n\nexport default Video;\n\n","import React,{useState,useEffect} from 'react'\nimport axios from 'axios'\nimport {Container, Button} from 'react-bootstrap'\n// import '../random.css'\nimport {appKey, secret, accessToken} from '../config'\nimport Video from '../video'\nconst Random = ({apiToken}) =>{\nconst [stream, setStream] = useState()\nconst [games, setGames] = useState()\nconst [isLoading, setIsLoading] = useState(null)\nconst [selectGame, setSelectGame] = useState({'name':null})\nconst [gameStreams,setGameStreams] = useState();\n\n\n\nconst handleSelect = (e) =>{\n        const {name, value} = e.target\n        setSelectGame(() => ({\n            [name]: value\n        }))\n        console.log(selectGame)\n}\n\nconst randomStream = (e) =>{\n    e.preventDefault()\n    setIsLoading(true)\n    let random = gameStreams[Math.floor(Math.random()*gameStreams.length) - 1 ]\n    setIsLoading(false)\n    setStream(random)\n\n    \n    console.log(stream)\n}\n\nconst getGames = async () => {\n    const game = await axios.get(\"https://api.twitch.tv/helix/games/top?first=100\", {\n        headers:{\n            'Client-Id':appKey,\n            'Authorization': `Bearer ${accessToken}`\n        }\n    })\n    setGames(game.data)\n} \n\nconst getStreams = async (e) =>{\n    e.preventDefault()\nconst streams = await axios.get(`https://api.twitch.tv/helix/streams?game_id=${selectGame.game}&first=100`,{headers:{\n    'Client-Id':appKey,\n    'Authorization': `Bearer ${accessToken}`\n}\n})\n\nsetGameStreams(streams.data.data)\nconsole.log(gameStreams)\n}\nuseEffect(()=>{\n    getGames()\n},[])\nreturn (\n    <>\n    <h1>Random Stream</h1>\n    {!games ?\n    <h1>Loading...</h1>\n    :\n    <Container className=\"text-center\">\n    <form onSubmit={getStreams}>\n    <select name=\"game\" onChange={handleSelect}>\n    {games.data.map(g=>(\n        <option name=\"name\" value={`${g.id}`}>{g.name}</option>\n    ))}\n    </select>\n    <Button type=\"submit\">Get All Streams</Button>\n    </form>\n    {!gameStreams?\n    null\n    :\n    <form onSubmit={randomStream}>\n        <Button type=\"submit\" className=\"btn btn-success\">Get Random Streams</Button>\n    </form>\n}\n    </Container>\n}\n{!stream?\n<h1>Select a game you would like to watch!</h1>\n:\n<>\n<h1>{stream.user_name}</h1>\n    <Video channel={stream.user_name}/>\n</>\n}\n    </>\n)\n}\n\nexport default Random;","import './App.css';\nimport {BrowserRouter, Route, Switch} from 'react-router-dom'\nimport NavBar from './NavBar'\nimport Home from './pages/home'\nimport LogIn from './pages/LogIn'\nimport SignUp from './pages/SignUp'\nimport Profile from './pages/Profile'\nimport Random from './pages/Random'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { useState } from 'react';\nimport axios from 'axios'\nimport { useEffect } from 'react';\nimport {appKey, secret} from './config'\nimport jwt from 'jsonwebtoken'\nfunction App() {\n  const [user, setUser] = useState()\n  const [token, setToken] = useState()\n  const [apiToken, setApiToken] = useState()\n\n  const getApiToken = async () =>{\n    console.log(appKey, secret)\n    const newToken = await axios.post(`https://id.twitch.tv/oauth2/token?client_id=${appKey}&client_secret=${secret}&grant_type=client_credentials`)\n    console.log(newToken.data)\n    setApiToken(newToken.data.access_token)\n}\n\n  const getToken = () =>{\n    const savedToken = localStorage.getItem('token')\n    if(savedToken){\n    logInUser(savedToken)\n    }\n  }\n  const logInUser = (data) =>{\n    setToken(data)\n    const username = jwt.decode(data).username\n    console.log(username)\n    setUser(username)\n  }\n  const logout = () =>{\n    setUser([])\n    setToken('')\n    localStorage.clear()\n  }\n\n  useEffect(()=>{\n    getToken()\n  },[])\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n      \n        <NavBar user={user} token={token} logout={logout}/>\n      \n      <Switch>\n      \n    \n    <Route path=\"/user/login\">\n      <LogIn login={logInUser}/>\n    </Route> \n    <Route path=\"/user/signup\">\n       <SignUp login={logInUser}/>\n    </Route>\n    <Route path='/user/logout' logout={logout} />\n    <Route path=\"/user/:username\">\n      <Profile user={user}/>\n    </Route>\n   \n    <Route path=\"/random\">\n      <Random apiToken={apiToken}/>\n    </Route>\n    <Route path=\"/\">\n        <Home/>\n      </Route>\n    </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('twitch-embed')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}